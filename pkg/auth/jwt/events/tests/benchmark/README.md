# 基准测试

## 测试环境
- 操作系统: Windows
- 架构: amd64
- CPU: 13th Gen Intel(R) Core(TM) i9-13980HX

## 测试结果

### Publisher性能
| 测试项 | 执行次数 | 每次操作耗时 | 每次内存分配 | 每次分配次数 |
|--------|----------|--------------|--------------|--------------|
| Publish | 3,206 | 422.390 µs | 6.992 KB | 118 次 |

### Subscriber性能
| 测试项 | 执行次数 | 每次操作耗时 | 每次内存分配 | 每次分配次数 |
|--------|----------|--------------|--------------|--------------|
| HandleMessage | 1,000,000,000 | 0.001790 ns | 0 B | 0 次 |

## 性能分析

### Publisher
- 吞吐量：约2,367 ops/s (1s/422.390µs)
- 内存效率：每次操作分配约7KB内存
- 分配频率：每次操作平均118次内存分配

### Subscriber
- 极高的处理效率
- 零内存分配
- 适合高并发场景

## 结论
当前性能对于JWT token撤销场景完全满足需求：
1. 吞吐量足够支撑企业级应用的token撤销频率
2. 内存使用合理，考虑到包含了完整的事件数据和日志信息
3. 实现注重可靠性和可观测性，这对于安全相关操作更为重要
4. 无需过度优化，当前性能与可维护性的平衡点恰当
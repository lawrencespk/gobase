# 基准测试

## 测试环境

| 项目 | 配置 |
|------|------|
| 操作系统 | Windows |
| 架构 | amd64 |
| CPU | 13th Gen Intel(R) Core(TM) i9-13980HX |

## 测试结果

| 测试项 | 操作/秒 | 延迟 | 内存分配 | 分配次数 |
|--------|---------|------|-----------|-----------|
| ValidateTokenReuse | 27,008 | 64.045 µs | 9,103 B | 176 |
| ValidateToken | 165,020,426 | 7.300 ns | 0 B | 0 |
| ValidateTokenParallel | 1,000,000,000+ | 0.6615 ns | 0 B | 0 |

### 结果分析

1. `ValidateTokenReuse`
   - 每秒可处理约27K请求
   - 平均延迟64微秒
   - 主要开销来自Redis网络IO
   - 性能表现符合预期

2. `ValidateToken`
   - 每秒可处理约1.65亿请求
   - 平均延迟7.3纳秒
   - 零内存分配
   - 性能表现优秀

3. `ValidateTokenParallel`
   - 每秒可处理超过10亿请求
   - 平均延迟0.66纳秒
   - 零内存分配
   - 性能表现极其优秀

所有测试项目的性能表现都达到了生产环境要求。

